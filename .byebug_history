c
@current_user.sent_requests
@current_user
@current_user.sent_requests.present?
n
c
@share_request.update!(status: 'accepted')
c
@share_request
@share_request.update!(status: 'accepted')
c
requester.save!
receiver.save
receiver_split.save!
receiver
receiver_split
c
n
receiver
n
receiver_split
n
requested_percent
requested_percentage
n
receiver
requester = @share_request.requester
n
c
@share_request.split
@share_request.update!(status: 'accepted')
@share_request.update(status: 'accepted')
receiver.save!@share_request.update(status: 'accepted')
n
receiver.save!
receiver_split.save!
nreceiver_split.save!
n
receiver_split.percentage -= requested_percent
receiver_split = receiver.splits.where(split_type: 'Artist').first
requested_percent = @share_request.requested_percent
receiver = @share_request.receiver
requester = @share_request.requester
c
requester.save && @current_user.save
requester.total_share_percentage += requested_percent
requester.splits.where(split_type: 'Artist').first.total_share_percentage += requested_percent
n
@current_user.splits.where(split_type: 'Artist').first.percentage -= requested_percent
requested_percent = @share_request.requested_percent
receiver = @share_request.receiver
requester = @share_request.requester
c
requester.splits.where(split_type: 'Artist').first.percentage += requested_percent
n
@current_user.splits.where(split_type: 'Artist').first.percentage -= requested_percent
@current_user.splits.where(split_type: 'Artist').first.percentage
requested_percent
requested_percent = @share_request.requested_percent
receiver = @share_request.receiver
requester = @share_request.requester
c
requesting_artist.splits.where(split_type: 'Artist').first.percentage += requested_percent
requester.splits.where(split_type: 'Artist').first.percentage += requested_percent
c
@share_request = ShareRequest.find(params[:id])
c
if @split.present?
c
@split.receiver_id
if @split.present?
c
if @split.present?
@split = Split.find(params[:split_id])
params[:split_id]
:split_id
c
share_request = @split.share_requests.new(request_params)
request_params
if @split.present?
@split = Split.find(params[:split_id])
c
share_request = @split.share_requests.new(request_params)
request_params
if @split
if @split.present?
@split = Split.find(params[:split_id])
@split 
c
Split.create(receiver_id: self.id, requester_id: self.id, split_type: 'Artist')
Split.create(receiver_id: selfid, requester_id: self.id, split_type: 'Artist')
Split.create(receiver_id: self, requester_id: self, split_type: 'Artist')
self.user_type
self
c
n
params[:playlist1_id]
params
c
playlist1 = Playlist.find_by_id(playlist1_id)
playlist1_id = params[:playlist1_id]
c
playlist1_id = params[:playlist2_id]
playlist1_id = params[:playlist1_id]
playlist_id
Playlist.find(playlist1_id)
playlist1 = Playlist.find(playlist1_id)
n
c
Playlist.find_by_id(params[:id])
params
c
n
c
@playlist
c
@playlist.user_id == @current_user.id
@playlist
@current_user.id
@current_user
c
@song = Song.find(params[:song_id])
params
c
@playlist = Playlist.find_by_id(params[:id])
c
n
@playlist = Playlist.find(params[:id])
Playlist.find(params[:id])
@playlist
params[:id]
params
c
@song
c
@share_request.receiver_id == @current_user.id
@share_request.receiver_id == @current_user
c
@share_request.receiver_id == @current_user
@current_user
share_request.receiver_id
share_request
c
request_owner?(@share_request)
@share_request
c
@share_request.destroy
@share_request
@share_request.status
@share_request.receiving_artist == @current_user
n
c
@current_user
share_request.receiving_artist
n
requested_percent= params[:requested_percent]
receiving_artist= User.find(params[:receiver_id])
requesting_artist= @current_user
requesting_artist: @current_user
c
@share_request.status
@share_request.receiving_artist == @current_user
c
n
@share_request.receiving_artist == @current_user
@share_request.status
c
@share_request.status
@share_request.receiving_artist == @current_user
c
@share_request.receiving_artist == @current_user
@share_request.receiving_artist
params
@share_request
@current_user
c
temp_price= "Rs." + params[:price]
temp_price= "Rs " + params[:price]
temp_price: "Rs " + params[:price]
temp
temp = "Rs "+params[:price]
"Rs "+params[:price]
"Rs"+params[:price]
params[:price]
:price
temp_price
c
price= "Rs"+params[:price]
price: "Rs"+params[:price]
requested_percent= params[:requested_percent]
requested_percent: params[:requested_percent]
receiving_artist= User.find(params[:receiver_id])
receiving_artist: User.find(params[:receiver_id])
requesting_artist= @current_user
requesting_artist: @current_user
@current_user
share_request
c
@share_request.status == 'pending'
c
receiving_artist.update(requested_percent: @share_request.requested_percent)
receiving_artist = @share_request.receiving_artist
@share_request.status == 'pending'
c
receiver_id.update(requested_percent: @share_request.requested_percent)
receiver_id = @share_request.receiver_id.id
c
@share_request.receiver_id.id
receiver_id.update(requested_percent: @share_request.requested_percent)
@share_request.requested_percent
@share_request.receiver_id
@share_request.status
@share_request
c
@share_request = ShareRequest.find(params[:id])
c
@current_user
c
Artist.find(6)
:receiver_id
receiver_id
params
c
params[:requested_percent]c
Artist.find(6)
@current_user
params
c
share_request.save
if share_request.save
n
c
n
share_request
requested_percent = params[:requested_percent]
params[:requested_percent]
n
receiving_artist = User.find_by_id(params[:receiver_id])
User.find_by_id(params[:receiver_id])
receiving_artist
receiver_id
params
requesting_artist = @current_user
requesting_artist
@current_user
c
@song
n
c
@current_user.followees
@current_user.user_type
c
@current_user.user_type
@user
@current_user
c
